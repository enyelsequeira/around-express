{"version":3,"sources":["images/SVGHEADER.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopUpWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/Footer.js","utils/Api.js","components/App.js","index.js"],"names":["module","exports","Header","className","href","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","setCards","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","onClick","style","backgroundImage","link","type","e","stopPropagation","name","length","Main","onEditAvatar","onEditProfile","onAddCard","cards","userInfo","avatar","about","map","key","PopupWithForm","isOpen","popupType","onClose","heading","buttonText","aria-label","data-close","value","AddPlacePopup","onAddPlace","useState","setName","setLink","onSubmit","preventDefault","id","onChange","target","placeholder","required","maxLength","minLength","EditProfilePopup","updateUser","setAbout","EditAvatarPopup","onUpdateAvatar","setAvatar","avatarInputRef","useRef","ref","current","ImagePopup","Footer","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","all","getCardList","getUserInfo","method","body","JSON","stringify","cardId","cardID","like","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","setCurrentUser","selectedCard","setSelectedCard","handleCardLike","a","changeLikeCardStatus","useEffect","catch","err","console","log","closeAllPopups","Provider","removeCard","handleCardClick","setUserInfo","data","newCard","addCard","newOne","setUserAvatar","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9cfd721.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/SVGHEADER.3e6893cd.svg\";","/* eslint-disable no-console */\r\nimport React from 'react';\r\n\r\nimport logo from '../images/SVGHEADER.svg';\r\n\r\nconst Header = () => (\r\n  <header className=\"header\">\r\n    <a className=\"header__link\" href=\"/\">\r\n      <img src={logo} alt=\"logo\" className=\"header__logo\" />\r\n    </a>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nconst Card = ({ card, setCards, onCardClick, onCardLike, onCardDelete }) => {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteCard = (e) => {\n    onCardDelete(card);\n    e.stopPropagation();\n  };\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `elements__trash ${\n    isOwn ? 'elements__trash_visible' : 'elements__trash_hidden'\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  return (\n    <li className=\"elements__item\">\n      <div\n        className=\"elements__image\"\n        onClick={handleClick}\n        style={{ backgroundImage: `url(${card.link})` }}\n      />\n      {isOwn && (\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          onClick={handleDeleteCard}\n        />\n      )}\n      <div className=\"elements__info\">\n        <h3 className=\"elements__title\">{card.name}</h3>\n        <button\n          onClick={handleLikeClick}\n          className={\n            isLiked\n              ? 'elements__image-heart_active elements__image-heart '\n              : 'elements__image-heart'\n          }\n          type=\"button\"\n          name=\"like\"\n        />\n        <h4 className=\"elements__like-count\">{card.likes.length}</h4>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","/* eslint-disable no-shadow */\r\n/* eslint-disable react/button-has-type */\r\n/* eslint-disable jsx-a11y/control-has-associated-label */\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nconst Main = ({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddCard,\r\n  onCardLike,\r\n  onCardClick,\r\n  onCardDelete,\r\n  cards,\r\n}) => {\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img\r\n            className=\"profile__avatar-image\"\r\n            src={userInfo.avatar}\r\n            alt=\"profile\"\r\n          />\r\n          <button className=\"profile__avatar-overlay\" onClick={onEditAvatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h2 className=\"profile__name\">{userInfo.name}</h2>\r\n          <p className=\"profile__profession\">{userInfo.about}</p>\r\n          <button\r\n            className=\"profile__info-btn\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          />\r\n        </div>\r\n        <button className=\"profile__button-add\" onClick={onAddCard} />\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card, i) => (\r\n            <Card\r\n              key={i}\r\n              card={card}\r\n              onCardLike={(card) => {\r\n                onCardLike(card);\r\n              }}\r\n              onCardClick={(card) => {\r\n                onCardClick(card);\r\n              }}\r\n              onCardDelete={(card) => {\r\n                onCardDelete(card);\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","/* eslint-disable react/jsx-closing-bracket-location */\nimport React from 'react';\n\nconst PopupWithForm = ({ isOpen, popupType, onClose, heading, buttonText }) => (\n  <div\n    className={\n      isOpen ? `${popupType} modal_active modal` : `${popupType} modal `\n    }>\n    <div className=\"modal__info\">\n      <button\n        className=\"modal__close\"\n        aria-label=\"close modal\"\n        data-close\n        type=\"button\"\n        onClick={onClose}\n      />\n      <p className=\"modal__title\"> {heading}</p>\n      <form className=\"modal__form\">\n        <button\n          className=\"modal__save-button modal__save\"\n          value=\"save\"\n          type=\"button\">\n          {buttonText}\n        </button>\n      </form>\n    </div>\n  </div>\n);\nexport default PopupWithForm;\n","/* eslint-disable react/jsx-closing-bracket-location */\r\nimport React, { useState } from 'react';\r\n\r\nconst AddPlacePopup = ({\r\n  isOpen,\r\n  popupType,\r\n  onClose,\r\n  heading,\r\n  buttonText,\r\n  onAddPlace,\r\n}) => {\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const handleNewCardName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleNewCardLink = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isOpen ? `${popupType} modal_active modal` : `${popupType} modal `\r\n      }>\r\n      <div className=\"modal__info\">\r\n        <button\r\n          className=\"modal__close\"\r\n          aria-label=\"close modal\"\r\n          data-close\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        />\r\n        <p className=\"modal__title\"> {heading}</p>\r\n        <form className=\"modal__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            id=\"card-title\"\r\n            className=\"modal__form-name modal__form-title  modal__input\"\r\n            type=\"text\"\r\n            name=\"Title\"\r\n            value={name}\r\n            onChange={handleNewCardName}\r\n            placeholder=\"title\"\r\n            required\r\n            maxLength=\"30\"\r\n            minLength=\"1\"\r\n          />\r\n          <span id=\"card-title-error\" className=\"modal__formerror\" />\r\n\r\n          <input\r\n            id=\"card-url\"\r\n            type=\"url\"\r\n            className=\"modal__form-profession modal__form-link  modal__input\"\r\n            name=\"Imagelink\"\r\n            placeholder=\"image\"\r\n            value={link}\r\n            onChange={handleNewCardLink}\r\n            required\r\n          />\r\n          <span id=\"card-url-error\" className=\"modal__formerror\" />\r\n          <button\r\n            className=\"modal__save-button modal__save\"\r\n            type=\"submit\"\r\n            value=\"save\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default AddPlacePopup;\r\n","/* eslint-disable react/jsx-no-duplicate-props */\n/* eslint-disable react/jsx-closing-bracket-location */\nimport React, { useState, useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nconst EditProfilePopup = ({\n  isOpen,\n  popupType,\n  onClose,\n  heading,\n  buttonText,\n  updateUser,\n}) => {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n  function handleDescription(e) {\n    setAbout(e.target.value);\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    updateUser(name, about);\n    // updateUser(name, about);\n    // await api.setUserInfo({ name, about });\n\n    // setCurrentUser(await api.getUserInfo());\n  };\n\n  return (\n    <div\n      className={\n        isOpen ? `${popupType} modal_active modal` : `${popupType} modal`\n      }>\n      <div className=\"modal__info\">\n        <button\n          className=\"modal__close\"\n          aria-label=\"close modal\"\n          data-close\n          type=\"button\"\n          onClick={onClose}\n        />\n        <p className=\"modal__title\"> {heading}</p>\n        <form className=\"modal__form\" onSubmit={handleSubmit}>\n          <input\n            id=\"profile-name\"\n            className=\"modal__form-name modal__input\"\n            type=\"text\"\n            name=\"name\"\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"Jacques\"\n            required\n            maxLength=\"40\"\n            minLength=\"2\"\n            onChange={handleChangeName}\n            defaultValue={currentUser.name}\n          />\n          <span id=\"profile-name-error\" className=\"modal__formerror\" />\n\n          <input\n            onChange={handleDescription}\n            id=\"profile-text\"\n            className=\"modal__form-profession modal__input\"\n            type=\"text\"\n            name=\"job\"\n            onChange={(e) => setAbout(e.target.value)}\n            placeholder=\"Explorer\"\n            required\n            maxLength=\"200\"\n            minLength=\"2\"\n            defaultValue={currentUser.about}\n          />\n          <span id=\"profile-text-error\" className=\"modal__formerror\" />\n\n          <button\n            className=\"modal__save-button modal__save\"\n            type=\"submit\"\n            value=\"save\">\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default EditProfilePopup;\n","/* eslint-disable react/jsx-closing-bracket-location */\nimport React, { useRef, useContext, useState } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nconst EditAvatarPopup = ({\n  isOpen,\n  popupType,\n  onClose,\n  heading,\n  buttonText,\n  onUpdateAvatar,\n}) => {\n  const currentUser = useContext(CurrentUserContext);\n  const [avatar, setAvatar] = useState(currentUser.avatar);\n\n  const avatarInputRef = useRef(avatar);\n\n  function handleAvatarChange(e) {\n    setAvatar(avatarInputRef.current.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(avatar);\n  }\n\n  return (\n    <div\n      className={\n        isOpen ? `${popupType} modal_active modal` : `${popupType} modal `\n      }>\n      <div className=\"modal__info\">\n        <button\n          className=\"modal__close\"\n          aria-label=\"close modal\"\n          data-close\n          type=\"button\"\n          onClick={onClose}\n        />\n        <p className=\"modal__title\"> {heading}</p>\n        <form className=\"modal__form\" onSubmit={handleSubmit}>\n          <input\n            ref={avatarInputRef}\n            onChange={handleAvatarChange}\n            id=\"profile-url\"\n            type=\"url\"\n            className=\"modal__form-profession modal__form-link modal__form-avatar  modal__input\"\n            name=\"Imagelink\"\n            placeholder=\"Image Link\"\n            required\n          />\n          <span id=\"profile-url-error\" className=\"modal__formerror\" />\n          <button\n            className=\"modal__save-button modal__save\"\n            type=\"submit\"\n            value=\"save\">\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default EditAvatarPopup;\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\r\n/* eslint-disable jsx-a11y/control-has-associated-label */\r\n/* eslint-disable react/button-has-type */\r\nimport React from 'react';\r\n\r\nconst ImagePopup = ({ card, onClose }) => (\r\n  <div\r\n    className={`modal figure  ${\r\n      card !== '' ? 'modal figure modal_active' : ''\r\n    }`}>\r\n    <div className=\"modal__figure-container\">\r\n      <button className=\"modal__close modal__figure-exit\" onClick={onClose} />\r\n      <img\r\n        className=\"modal__figure-image\"\r\n        src={`${card.link}`}\r\n        alt={card.name}\r\n      />\r\n      <p className=\"modal__figure-caption\">{card.name}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default ImagePopup;\r\n","/* eslint-disable no-console */\nimport React from 'react';\n\nconst Footer = () => (\n  <footer className=\"footer\">\n    <p className=\"footer__text\"> &#169; 2020 Around The U.S </p>\n  </footer>\n);\n\nexport default Footer;\n","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable prefer-promise-reject-errors */\n/* eslint-disable function-paren-newline */\n/* eslint-disable no-underscore-dangle */\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    // console.log(this._baseUrl);\n    this._headers = headers;\n    // console.log(this._headers);\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/cards\n  getCardList() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/users/me\n  getUserInfo() {\n    // console.log(`${this._baseUrl}/users/me`);\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then((res) =>\n      // console.log('AAA', res);\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  getPageInfo() {\n    return Promise.all([this.getCardList(), this.getUserInfo()]);\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  setUserInfo({ name, about }) {\n    // console.log(name, about);\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  getAppInfo() {\n    // resolve all the above promises // not needed\n  }\n\n  // POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n  removeCard(cardId) {\n    // console.log(cardId);\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: 'DELETE',\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n\n  // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  changeLikeCardStatus(cardID, like) {\n    return (like\n      ? fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n          headers: this._headers,\n          method: 'PUT',\n        })\n      : fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n          headers: this._headers,\n          method: 'DELETE',\n        })\n    ).then((res) =>\n      res.ok ? res.json() : Promise.reject(`error${res.statusText}`)\n    );\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-3',\n  headers: {\n    authorization: '9a4eb9c4-eb35-4130-9822-f1a4ffd479bc',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","/* eslint-disable no-console */\n/* eslint-disable react/button-has-type */\nimport React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopUpWithForm';\nimport AddCard from './AddPlacePopup';\nimport EditProfile from './EditProfilePopup';\nimport EditAvatar from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport Footer from './Footer';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/Api';\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = useState(false);\n\n  const [currentUser, setCurrentUser] = useState({\n    avatar: '',\n    name: '',\n    about: '',\n  });\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState('');\n\n  const handleCardLike = async (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    await api.changeLikeCardStatus(card._id, !isLiked);\n\n    setCards(await api.getCardList());\n  };\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    api\n      .getCardList()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => console.log(err));\n  }, [setCards, cards]);\n\n  // deleting card\n\n  const handleDeleteCard = (card) => {\n    api\n      .removeCard(card._id)\n      .then(() => setCards([...cards]))\n      .catch((err) => console.log(err));\n  };\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard('');\n  }\n  const onAddPlace = (newCard) => {\n    api\n      .addCard(newCard)\n      .then((newOne) => setCards([...cards, newOne]))\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n  function handleUpdateAvatar(avatar) {\n    setCurrentUser({ ...currentUser, avatar });\n\n    api\n      .setUserAvatar({ avatar })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const updateUser = (name, about) => {\n    api\n      .setUserInfo({ name, about })\n      .then((data) => {\n        console.log(data);\n        setCurrentUser({ ...currentUser, name: data.name, about: data.about });\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={() => {\n            setIsEditProfilePopupOpen(true);\n          }}\n          onAddCard={() => {\n            setIsAddPlacePopupOpen(true);\n          }}\n          onEditAvatar={() => {\n            setIsEditAvatarPopupOpen(true);\n          }}\n          selectedCard={selectedCard}\n          onClose={closeAllPopups}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteCard}\n          onCardClick={(card) => handleCardClick(card)}\n        />\n\n        <EditProfile\n          heading=\"Edit Profile\"\n          buttonText=\"Save\"\n          popupType=\"modal__edit\"\n          isOpen={isEditProfilePopupOpen}\n          onClose={() => setIsEditProfilePopupOpen(false)}\n          updateUser={updateUser}\n        />\n\n        <AddCard\n          heading=\"New Place\"\n          buttonText=\"Create\"\n          popupType=\"modal__card\"\n          isOpen={isAddPlacePopupOpen}\n          setCards={setCards}\n          onClose={() => setIsAddPlacePopupOpen(false)}\n          onAddPlace={onAddPlace}\n        />\n\n        <PopupWithForm\n          heading=\"Are you sure\"\n          buttonText=\"yes\"\n          popupType=\"modal__deleteimage\"\n          isOpen={isDeletePlacePopupOpen}\n          setCards={setCards}\n          onClose={() => setIsDeletePlacePopupOpen(false)}\n        />\n\n        <EditAvatar\n          heading=\"Change Profile Picture\"\n          buttonText=\"Save\"\n          popupType=\"modal__addimage\"\n          setCurrentUser={setCurrentUser}\n          isOpen={isEditAvatarPopupOpen}\n          onClose={() => setIsEditAvatarPopupOpen(false)}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}